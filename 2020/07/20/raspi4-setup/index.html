<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width">
<meta name="theme-color" content="#020261"><meta name="generator" content="Hexo 7.3.0">

  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png">
  <link rel="mask-icon" href="/images/logo.svg" color="#020261">

<link rel="stylesheet" href="/css/main.css">



<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.7.2/css/all.min.css" integrity="sha256-dABdfBfUoC8vJUBOwGVdm8L9qlMWaHTIfXt+7GnZCIo=" crossorigin="anonymous">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/3.1.1/animate.min.css" integrity="sha256-PR7ttpcvz8qrF57fur/yAx1qXMFJeJFiA6pSzWi0OIE=" crossorigin="anonymous">

<script class="next-config" data-name="main" type="application/json">{"hostname":"example.com","root":"/","images":"/images","scheme":"Gemini","darkmode":false,"version":"8.23.0","exturl":false,"sidebar":{"position":"left","width_expanded":320,"width_dual_column":240,"display":"post","padding":18,"offset":12},"hljswrap":true,"copycode":{"enable":false,"style":null},"fold":{"enable":false,"height":500},"bookmark":{"enable":false,"color":"#222","save":"auto"},"mediumzoom":false,"lazyload":false,"pangu":false,"comments":{"style":"tabs","active":null,"storage":true,"lazyload":false,"nav":null},"stickytabs":false,"motion":{"enable":true,"async":false,"duration":200,"transition":{"menu_item":"fadeInDown","post_block":"fadeIn","post_header":"fadeInDown","post_body":"fadeInDown","coll_header":"fadeInLeft","sidebar":"fadeInUp"}},"i18n":{"placeholder":"Searching...","empty":"We didn't find any results for the search: ${query}","hits_time":"${hits} results found in ${time} ms","hits":"${hits} results found"}}</script><script src="/js/config.js" defer></script>

    <meta name="description" content="Installing the Raspberry Pi OsThe new Raspberry Pi out of the box is just a piece of hardware with no software on it, so we need to first set up an operating system to start using it. Here we chose th">
<meta property="og:type" content="article">
<meta property="og:title" content="Setting up a new Raspberry Pi 4">
<meta property="og:url" content="http://example.com/2020/07/20/raspi4-setup/index.html">
<meta property="og:site_name" content="Efficient Corner">
<meta property="og:description" content="Installing the Raspberry Pi OsThe new Raspberry Pi out of the box is just a piece of hardware with no software on it, so we need to first set up an operating system to start using it. Here we chose th">
<meta property="og:locale" content="en_US">
<meta property="og:image" content="http://example.com/images/osdown.png">
<meta property="og:image" content="http://example.com/images/advanced_ip_scanner.png">
<meta property="og:image" content="http://example.com/images/vnc.png">
<meta property="og:image" content="http://example.com/images/raspi-config.png">
<meta property="article:published_time" content="2020-07-20T07:10:03.000Z">
<meta property="article:modified_time" content="2025-04-02T08:03:06.273Z">
<meta property="article:author" content="Andy Cai">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="http://example.com/images/osdown.png">


<link rel="canonical" href="http://example.com/2020/07/20/raspi4-setup/">


<script class="next-config" data-name="page" type="application/json">{"sidebar":"","isHome":false,"isPost":true,"lang":"en","comments":true,"permalink":"http://example.com/2020/07/20/raspi4-setup/","path":"2020/07/20/raspi4-setup/","title":"Setting up a new Raspberry Pi 4"}</script>

<script class="next-config" data-name="calendar" type="application/json">""</script>
<title>Setting up a new Raspberry Pi 4 | Efficient Corner</title>
  








  
  <script src="https://cdnjs.cloudflare.com/ajax/libs/animejs/3.2.1/anime.min.js" integrity="sha256-XL2inqUJaslATFnHdJOi9GfQ60on8Wx1C2H8DYiN1xY=" crossorigin="anonymous" defer></script>
<script src="/js/utils.js" defer></script><script src="/js/motion.js" defer></script><script src="/js/sidebar.js" defer></script><script src="/js/next-boot.js" defer></script>

  






  




  

  <script class="next-config" data-name="enableMath" type="application/json">true</script><script class="next-config" data-name="mathjax" type="application/json">{"enable":true,"tags":"none","js":{"url":"https://cdnjs.cloudflare.com/ajax/libs/mathjax/3.2.2/es5/tex-mml-chtml.js","integrity":"sha256-MASABpB4tYktI2Oitl4t+78w/lyA+D7b/s9GEP0JOGI="}}</script>
<script src="/js/third-party/math/mathjax.js" defer></script>



  <noscript>
    <link rel="stylesheet" href="/css/noscript.css">
  </noscript>
<!-- hexo injector head_end start -->
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.12.0/dist/katex.min.css">

<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/hexo-math@4.0.0/dist/style.css">
<!-- hexo injector head_end end --></head>

<body itemscope itemtype="http://schema.org/WebPage" class="use-motion">
  <div class="headband"></div>

  <main class="main">
    <div class="column">
      <header class="header" itemscope itemtype="http://schema.org/WPHeader"><div class="site-brand-container">
  <div class="site-nav-toggle">
    <div class="toggle" aria-label="Toggle navigation bar" role="button">
        <span class="toggle-line"></span>
        <span class="toggle-line"></span>
        <span class="toggle-line"></span>
    </div>
  </div>

  <div class="site-meta">

    <a href="/" class="brand" rel="start">
      <i class="logo-line"></i>
      <p class="site-title">Efficient Corner</p>
      <i class="logo-line"></i>
    </a>
      <p class="site-subtitle" itemprop="description">Condensation of experiences</p>
  </div>

  <div class="site-nav-right">
    <div class="toggle popup-trigger" aria-label="Search" role="button">
    </div>
  </div>
</div>



<nav class="site-nav">
  <ul class="main-menu menu"><li class="menu-item menu-item-home"><a href="/" rel="section"><i class="fa fa-home fa-fw"></i>Home</a></li><li class="menu-item menu-item-about"><a href="/about/" rel="section"><i class="fa fa-user fa-fw"></i>About</a></li><li class="menu-item menu-item-tags"><a href="/tags/" rel="section"><i class="fa fa-tags fa-fw"></i>Tags</a></li><li class="menu-item menu-item-categories"><a href="/categories/" rel="section"><i class="fa fa-th fa-fw"></i>Categories</a></li><li class="menu-item menu-item-sitemap"><a href="/sitemap.xml" rel="section"><i class="fa fa-sitemap fa-fw"></i>Sitemap</a></li>
  </ul>
</nav>




</header>
        
  
  <aside class="sidebar">

    <div class="sidebar-inner sidebar-nav-active sidebar-toc-active">
      <ul class="sidebar-nav">
        <li class="sidebar-nav-toc">
          Table of Contents
        </li>
        <li class="sidebar-nav-overview">
          Overview
        </li>
      </ul>

      <div class="sidebar-panel-container">
        <!--noindex-->
        <div class="post-toc-wrap sidebar-panel">
            <div class="post-toc animated"><ol class="nav"><li class="nav-item nav-level-1"><a class="nav-link" href="#Installing-the-Raspberry-Pi-Os"><span class="nav-number">1.</span> <span class="nav-text">Installing the Raspberry Pi Os</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#Setting-up-SSH-for-remote-access"><span class="nav-number">2.</span> <span class="nav-text">Setting up SSH for remote access</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#Setting-up-wireless-networking-and-enabling-SSH"><span class="nav-number">3.</span> <span class="nav-text">Setting up wireless networking and enabling SSH</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#Conclusion"><span class="nav-number">4.</span> <span class="nav-text">Conclusion</span></a></li></ol></div>
        </div>
        <!--/noindex-->

        <div class="site-overview-wrap sidebar-panel">
          <div class="site-author animated" itemprop="author" itemscope itemtype="http://schema.org/Person">
  <p class="site-author-name" itemprop="name">Andy Cai</p>
  <div class="site-description" itemprop="description">A quantitative portfolio manager passionate about dissecting complexity at the intersection of finance, math, and technology. This site is my digital lab—a space where I document technical deep dives, code snippets, and analytical explorations into algorithmic trading, risk modeling, data science, and the occasional offbeat problem that sparks my curiosity.</div>
</div>
<div class="site-state-wrap animated">
  <nav class="site-state">
      <div class="site-state-item site-state-posts">
        <a href="/archives/">
          <span class="site-state-item-count">7</span>
          <span class="site-state-item-name">posts</span>
        </a>
      </div>
  </nav>
</div>
  <div class="links-of-author animated">
      <span class="links-of-author-item">
        <a href="https://github.com/ajc327" title="GitHub → https:&#x2F;&#x2F;github.com&#x2F;ajc327" rel="noopener me" target="_blank"><i class="fab fa-github fa-fw"></i>GitHub</a>
      </span>
      <span class="links-of-author-item">
        <a href="mailto:andycai517@gmail.com" title="E-Mail → mailto:andycai517@gmail.com" rel="noopener me" target="_blank"><i class="fa fa-envelope fa-fw"></i>E-Mail</a>
      </span>
  </div>

        </div>
      </div>
    </div>

    
  </aside>


    </div>

    <div class="main-inner post posts-expand">


  


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="en">
    <link itemprop="mainEntityOfPage" href="http://example.com/2020/07/20/raspi4-setup/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="Andy Cai">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Efficient Corner">
      <meta itemprop="description" content="A quantitative portfolio manager passionate about dissecting complexity at the intersection of finance, math, and technology. This site is my digital lab—a space where I document technical deep dives, code snippets, and analytical explorations into algorithmic trading, risk modeling, data science, and the occasional offbeat problem that sparks my curiosity.">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="Setting up a new Raspberry Pi 4 | Efficient Corner">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
          Setting up a new Raspberry Pi 4
        </h1>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">Posted on</span>

      <time title="Created: 2020-07-20 15:10:03" itemprop="dateCreated datePublished" datetime="2020-07-20T15:10:03+08:00">2020-07-20</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar-check"></i>
      </span>
      <span class="post-meta-item-text">Edited on</span>
      <time title="Modified: 2025-04-02 16:03:06" itemprop="dateModified" datetime="2025-04-02T16:03:06+08:00">2025-04-02</time>
    </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody"><h1 id="Installing-the-Raspberry-Pi-Os"><a href="#Installing-the-Raspberry-Pi-Os" class="headerlink" title="Installing the Raspberry Pi Os"></a>Installing the Raspberry Pi Os</h1><p>The new Raspberry Pi out of the box is just a piece of hardware with no software on it, so we need to first set up an operating system to start using it. Here we chose the recommended Raspberry Pi OS (previously called Raspbian). We can of course install other operating systems like CentOs, Ubuntu etc.</p>
<p><img src="/images/osdown.png"></p>
<p>We can install the Rpi OS in a couple of ways, either using the rpi-imagers available to different operating systems, or we can manually image the OS onto the SD card. In order to do this, we first downloaded a windows disk imager software and using it, successfully imaged the OS onto the card. Note there are numerous choices for imaging software out there and they are pretty much all free.</p>
<p>We can now remove the SD card and insert it into our Rpi.</p>
<hr>
<h1 id="Setting-up-SSH-for-remote-access"><a href="#Setting-up-SSH-for-remote-access" class="headerlink" title="Setting up SSH for remote access"></a>Setting up SSH for remote access</h1><p>Now in order to set up the system, we can either do it headlessly through ssh (Secure Shell) or use a monitor and keyboard. As I have already set up a Rpi 3B before using the keyboard, and also my monitor had not arrived at the time of my explorations, I set it up headlessly and this is the method we will document here.</p>
<p>In order to set up SSH in the first place we must connect the RPi to the local network, at which point we can then use another device on the same network to SSH into our Pi. We can do this with an ethernet cable, but as I don’t have one handy, we will set up the wireless netowrk instead</p>
<h1 id="Setting-up-wireless-networking-and-enabling-SSH"><a href="#Setting-up-wireless-networking-and-enabling-SSH" class="headerlink" title="Setting up wireless networking and enabling SSH"></a>Setting up wireless networking and enabling SSH</h1><p>we need to tell the Raspberry Pi to connect to wifi as well as to give it the credentials for the home wifi, so that it will automatically connect to it upon startup. This is done by defining a <code>wpa_supplicant.conf</code> file in the boot folder, to store the network credentials. When booted, it will copy the file to the correct location aned use it to set up wireless networking.</p>
<p>Here is an example for the <code>wpa_supplicant.conf</code> file:</p>
<p>Also, we create a <code>ssh</code> file and also place this into the root folder, so that it will turn ssh on by default. In order to use ssh (or any kind of remote access) we must know the IP address of the Rpi within our local network. This can be found in a few ways:</p>
<ol>
<li>Use <code>arp -a</code> in Linux terminal. However, this did not work. The command managed to find the macbook pro and an Ubuntu vm as well as the windows computer but failed to find the raspi. Also, the naming seemed to be confusing and it was difficult to tell which one is the one we look for anyway.</li>
<li>Use <code>sudo apt-get install nmap</code> then <code>nmap -sn 192.168.5.0/24</code> to ping all the addresses from <code>192.168.5.0</code> to <code>192.168.5.255</code> and return all the ones that connected. This also didn’t show the Raspi.</li>
<li>Download an IP scanner tool. In this case we downloaded Advanced IP Scanner for Windows 10 and was able to successfully find the Raspi.</li>
</ol>
<p><img src="/images/advanced_ip_scanner.png" title="The search results from the Advanced IP Scanner"></p>
<p>Interestingly, after using the advanced IP Scanner to locate the IP address of raspi, the first two methods now also can find the raspi. Note the advanced ip scanner was able to find a lot more other devices on the network such as mobile phones.</p>
<p>If we are setting up the raspi using a monitor and keyboard, we can enable SSH server from the terminal using <code>sudo raspi-config</code>, however we have already enabled SSH when we included the ssh file in the boot folder. Now it is possible to use an SSH client on other devices to access the raspi using <code>ssh pi@192.168.x.x</code>. As scp (secure copy) is also built on ssh, it is now possible to use scp to send files to the raspi. The command is <code>scp myfile.txt pi@192.168.x.x:~/Desktop</code>, which puts the file on the desktop.</p>
<hr>
<p>To work on the Raspi desktop remotely, we can use VNC. This is a graphical desktop sharing system which allows another device on the same network running a VNC client to access the rapsi, which is running a vnc server. The default included VNC server in the Raspi is the RealVNC server, which we can enable and use.</p>
<p><img src="/images/vnc.png" title="A VNC client accessing the Raspi Desktop."></p>
<p>Install the vnc server using</p>
<p>Again, we enable the VNC in a headless manner, using</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">sudo</span> raspi-config </span><br></pre></td></tr></table></figure>


<p>Same as before, the VNC service can also be enabled using the Raspi graphical configuration tool, which can be accessed using <code>sudo raspi-config</code>.</p>
<p><img src="/images/raspi-config.png" title="The Raspi graphical configuration tool"></p>
<p>Once we enable the VNC server, we will be able to choose which port to run it on. The RealVPN service includes cloud connection and direct connection, and these are authenticated using RealVNC account credentials and generic VNC password respectively.</p>
<p>We can now run <code>vncserver</code> to get the server running.</p>
<hr>
<h1 id="Conclusion"><a href="#Conclusion" class="headerlink" title="Conclusion"></a>Conclusion</h1><p>In this post we set up a Raspberry Pi 4 from scratch in headless mode.</p>
<ul>
<li>We installed the Raspberry Pi OS on the SD card manually.</li>
<li>We enabled ssh through placing the ssh file in the boot folder.</li>
<li>We provided the Raspberry Pi with wireless connection credentials through placing a <code>wpa_supplicant.conf</code> file in the boot folder and enter the wireless name and password in it.</li>
<li>We configured the Raspi to have VNC enabled so that we can access the desktop remotely.</li>
</ul>

    </div>

    
    
    

    <footer class="post-footer">

        

          <div class="post-nav">
            <div class="post-nav-item">
            </div>
            <div class="post-nav-item">
                <a href="/2020/07/21/lamp/" rel="next" title="Setting up a LAMP stack on the Raspi">
                  Setting up a LAMP stack on the Raspi <i class="fa fa-angle-right"></i>
                </a>
            </div>
          </div>
    </footer>
  </article>
</div>






</div>
  </main>

  <footer class="footer">
    <div class="footer-inner">

  <div class="copyright">
    &copy; 
    <span itemprop="copyrightYear">2025</span>
    <span class="with-love">
      <i class="fa fa-heart"></i>
    </span>
    <span class="author" itemprop="copyrightHolder">Andy Cai</span>
  </div>

    </div>
  </footer>

  
  <div class="toggle sidebar-toggle" role="button">
    <span class="toggle-line"></span>
    <span class="toggle-line"></span>
    <span class="toggle-line"></span>
  </div>
  <div class="sidebar-dimmer"></div>
  <div class="back-to-top" role="button" aria-label="Back to top">
    <i class="fa fa-arrow-up fa-lg"></i>
    <span>0%</span>
  </div>

  <a href="https://github.com/ajc327" class="github-corner" title="Follow me on GitHub" aria-label="Follow me on GitHub" rel="noopener" target="_blank"><svg width="80" height="80" viewBox="0 0 250 250" aria-hidden="true"><path d="M0,0 L115,115 L130,115 L142,142 L250,250 L250,0 Z"></path><path d="M128.3,109.0 C113.8,99.7 119.0,89.6 119.0,89.6 C122.0,82.7 120.5,78.6 120.5,78.6 C119.2,72.0 123.4,76.3 123.4,76.3 C127.3,80.9 125.5,87.3 125.5,87.3 C122.9,97.6 130.6,101.9 134.4,103.2" fill="currentColor" style="transform-origin: 130px 106px;" class="octo-arm"></path><path d="M115.0,115.0 C114.9,115.1 118.7,116.5 119.8,115.4 L133.7,101.6 C136.9,99.2 139.9,98.4 142.2,98.6 C133.8,88.0 127.5,74.4 143.8,58.0 C148.5,53.4 154.0,51.2 159.7,51.0 C160.3,49.4 163.2,43.6 171.4,40.1 C171.4,40.1 176.1,42.5 178.8,56.2 C183.1,58.6 187.2,61.8 190.9,65.4 C194.5,69.0 197.7,73.2 200.1,77.6 C213.8,80.2 216.3,84.9 216.3,84.9 C212.7,93.1 206.9,96.0 205.4,96.6 C205.1,102.4 203.0,107.8 198.3,112.5 C181.9,128.9 168.3,122.5 157.7,114.1 C157.9,116.9 156.7,120.9 152.7,124.9 L141.0,136.5 C139.8,137.7 141.6,141.9 141.8,141.8 Z" fill="currentColor" class="octo-body"></path></svg></a>

<noscript>
  <div class="noscript-warning">Theme NexT works best with JavaScript enabled</div>
</noscript>

</body>
</html>
